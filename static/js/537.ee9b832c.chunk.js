"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[537],{1537:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(3433),i=r(9439),u=r(421),o=r(7689),l=r(1087),s=r(184),c=function(e){var t=e.movies,r=(0,o.TH)();return console.log(t),(0,s.jsx)("ul",{children:t.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)(l.rU,{to:"".concat(null===e||void 0===e?void 0:e.id),state:{from:r},children:null===e||void 0===e?void 0:e.original_title})},null===e||void 0===e?void 0:e.id)}))})},d=function(e){var t=e.onSubmit;return(0,s.jsx)("form",{onSubmit:t,children:(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"name",name:"query",autoFocus:!0}),(0,s.jsx)("button",{type:"submit",children:"Submit"})]})})},a=r(2791),f=function(){var e=(0,a.useState)([]),t=(0,i.Z)(e,2),r=t[0],o=t[1],f=(0,a.useState)("idle"),v=(0,i.Z)(f,2),h=v[0],m=v[1],j=(0,l.lr)(),g=(0,i.Z)(j,2),x=g[0],p=g[1],b=x.get("query");(0,a.useEffect)((function(){b&&((0,u.getMovies)(b).then((function(e){if(0===e.length)return m("rejected"),void alert("An error occured while processing your request");o((0,n.Z)(e))})),m("fulfilled"))}),[b]),console.log(r);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;p({query:t}),o([])}}),"rejected"===h&&(0,s.jsx)("div",{children:"An error occured while processing your request"}),(0,s.jsx)(c,{movies:r})]})}}}]);
//# sourceMappingURL=537.ee9b832c.chunk.js.map