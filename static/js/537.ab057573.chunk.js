"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[537],{1537:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var r=t(3433),i=t(9439),u=t(421),o=t(7689),l=t(1087),s=t(184),c=function(e){var n=e.movies,t=(0,o.TH)();return console.log(n),(0,s.jsx)("ul",{children:n.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)(l.rU,{to:"".concat(null===e||void 0===e?void 0:e.id),state:{from:t},children:null===e||void 0===e?void 0:e.original_title})},null===e||void 0===e?void 0:e.id)}))})},a=function(e){var n=e.onSubmit;return(0,s.jsx)("form",{onSubmit:n,children:(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"name",name:"query",autoFocus:!0}),(0,s.jsx)("button",{type:"submit",children:"Submit"})]})})},d=t(2791),f=function(){var e=(0,d.useState)([]),n=(0,i.Z)(e,2),t=n[0],o=n[1],f=(0,d.useState)("idle"),v=(0,i.Z)(f,2),h=v[0],m=v[1],g=(0,l.lr)(),j=(0,i.Z)(g,2),x=j[0],p=j[1],_=x.get("query");(0,d.useEffect)((function(){_&&((0,u.getMovies)(_).then((function(e){if(0===e.length)return m("rejected"),void alert("An error occured while processing your request");o((0,r.Z)(e))})),m("fulfilled"))}),[_]),console.log(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a,{onChange:function(e){return function(e){e.preventDefault();var n=e.target.elements.name.value;p({query:n}),o([])}(e.target.value)}}),"rejected"===h&&(0,s.jsx)("div",{children:"An error occured while processing your request"}),(0,s.jsx)(c,{movies:t})]})}}}]);
//# sourceMappingURL=537.ab057573.chunk.js.map