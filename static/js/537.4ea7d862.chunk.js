"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[537],{1537:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(3433),i=t(9439),u=t(421),o=t(7689),l=t(1087),s=t(184),c=function(e){var r=e.movies,t=(0,o.TH)();return console.log(r),(0,s.jsx)("ul",{children:r.map((function(e){return(0,s.jsx)("li",{children:(0,s.jsx)(l.rU,{to:"".concat(null===e||void 0===e?void 0:e.id),state:{from:t},children:null===e||void 0===e?void 0:e.original_title})},null===e||void 0===e?void 0:e.id)}))})},d=function(e){var r=e.onSubmit;return(0,s.jsx)("form",{onSubmit:r,children:(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"name",name:"query",autoFocus:!0}),(0,s.jsx)("button",{type:"submit",children:"Submit"})]})})},a=t(2791),f=function(){var e=(0,a.useState)([]),r=(0,i.Z)(e,2),t=r[0],o=r[1],f=(0,a.useState)("idle"),v=(0,i.Z)(f,2),h=v[0],m=v[1],j=(0,l.lr)(),g=(0,i.Z)(j,2),x=g[0],p=g[1],b=x.get("query");(0,a.useEffect)((function(){b&&((0,u.getMovies)(b).then((function(e){if(0===e.length)return m("rejected"),p({query:""}),void alert("An error occured while processing your request");o((0,n.Z)(e))})),m("fulfilled"))}),[b]),console.log(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{onSubmit:function(e){e.preventDefault();var r=e.target.elements.query.value;p({query:r})}}),"rejected"===h&&(0,s.jsx)("div",{children:"An error occured while processing your request"}),(0,s.jsx)(c,{movies:t})]})}}}]);
//# sourceMappingURL=537.4ea7d862.chunk.js.map